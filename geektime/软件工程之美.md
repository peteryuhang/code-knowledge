# 项目规划篇

## 可行性分析

- 如果发现方案不具备可行性，也应及时调整方案或停止项目以止损
- 从三个方面来做可行性分析：
  - **经济可行性**：从成本和收益角度分析，看投入产出比，不仅要分析短期利益，还要分析长期利益
  - **技术可行性**：技术上是否可行，如果有技术上解决不了的问题又能否规避，关键在人
  - **社会可行性**：社会可行性涉及法律、道德、社会影响等社会因素
- 哪怕你做的可行性研究不能改变决策，最后项目结束的时候，和当初做的可行性研究做一下对比，也都是非常宝贵的项目经验积累
- 如果可行性研究并不能给你一个很明确的结果，也可以考虑小范围试点，先实现一个最小化可行产品，等验证了可行性，再逐步加大投入

## 技术转项目管理

- 项目管理通常是技术人员转型管理的第一步
- 想要技术转型管理，首先从转变思维方式开始，从技术思维到管理思维，从关注细节到关注整体
- 就软件项目管理来说，“道” 就是管好人、管好事
  - 怎样管好软件项目中的人？
    - 管理好客户的预期
    - 用流程和规范让项目成员一起紧密协作
  - 怎样管好软件项目中的事？（对项目中事情的管理，本质上就是对软件开发过程的管理）
    - 选择适合项目的开发模式（瀑布模式或敏捷开发）
    - 制定好项目计划
    - 对计划进行跟踪和控制，同时做好风险管理

    ![](/assets/geektime/software_project_management.png)

- 技术转管理的一些经验教训
  - 控制你想写代码的冲动（技术人员转型管理的最大障碍是什么，那就是过于关注技术，而忽略了其他事情）
  - 团队的成功，才是你的成功（并不是你把上级的工作做了就能升职，而是你的下级都成长了，能替代你的位置了，你就可以升职了）
  - 形成自己的管理风格（完全可以根据自己的特点，找到适合自己的管理风格）
  - 坚持就是胜利

## 项目计划

- 参与做计划的过程，可以让你对项目的各种事情了然于胸，这就相当于扩大了你的上下文，让你有更高的视角看待当前工作遇到的问题
  - 试着做计划就是一个非常好的培养大局观的方式
  - 你在制定计划的过程中，需要去综合考虑各种因素：有哪些任务要做，可能存在什么风险，任务之间的依赖关系是什么，等等
- 制定项目计划的三个基本步骤
  1. 任务分解
    - WBS（Work Breakdown Structure）就是把要做的事情，按照一个树形结构去组织，逐级分解，分割成小而具体的可交付结果，直到不能再拆分为止
    - 在制定计划时，除了要拆分任务，还需要反复思考各种可能存在的问题
  2. 估算时间
    - 任务拆分的越细致，想的越清楚，就能估算的越准确
    - 要让负责这个任务的人员参与估算
    - 提问可以帮助双方搞清楚真实的情况是什么样的，而且也不会招致反感
    - 对于估算的结果，通常还要考虑增加一些余量，因为实际项目执行过程中，有可能会有突发状况
  3. 排任务路径
    - 排路径就是要根据任务之间的关系，资源的占用情况，排出合适的顺序
- 对于周期很长的项目，可以设置里程碑。一来可以通过 DDL 来推动进度，二来对成员也有比较好的激励
- 项目管理中，并不是计划制定好了就完事了，还需要跟踪和调整，敏捷开发的两个实践：
  - 每日站立会议
  - 看板

## 流程和规范

- 好的项目管理，不需要直接管人管事，而是管理好计划和流程规范；项目成员不需要按照项目经理的指令做事，而是遵循计划和流程规范
- 制定流程规范的四个步骤：
  1. 明确要解决的问题
  2. 提出解决方案
  3. 达成共识，推广执行
  4. 持续优化，不断改进
- 应该尽可能借助技术手段来推动甚至替代流程规范
  - IDE 中的代码检查工具
  - CI/CD
  - git

## 开会

- 会议是不是有效率，取决于它创造的价值是不是高于其成本
  - 比如说有的会议，花的成本不是组织者的，对他来说，得到他的会议价值就可以了
- 跟软件项目金三角的理论一样，只要从两个角度去想办法：减少开会的成本，增加开会创造的价值
- 减少开会成本的方法：
  - 砍掉一些没有价值的会议
    - 没有目标
    - 不能形成决策，没有会后行动
    - 你属于可有可无的角色
    - 可以通过创建文档来避免的会议
  - 减少参与会议的人
  - 缩短开会时间
  - 提升会议所创造的价值
    - 每个会议要有明确的目的和主题，所有的讨论都要围绕会议目的展开
    - 还有开会后，要有明确的结论，有后续的待办事项，落实到个人，对待办事项有跟踪
    - 没什么价值的会议，又必须要参加的会议，可以在会前找些需要解决的难题，然后在会上思考，这样可以避免时间的浪费

## 项目管理工具

- 一个任务，只有 0% 和 100% 两种状态是准确的，中间状态都是不靠谱的
- 项目管理工具的演变
  - 最初的项目管理软件：MS Project
  - 基于 Ticket 的任务跟踪系统
  - 基于看板的可视化任务管理

## 风险管理

- 风险管理就是指在项目进行过程中，识别可能的风险，对风险进行评估，并加以监控，从而减少风险对项目的负面影响
- 风险包含两个方面
  1. 发生后，会造成什么样的损失
  2. 发生的概率有多大
- 如何做好风险管理
  1. 培养风险意识
    - 项目中的任务，不能盲目乐观，都思考一下它最坏的结果是什么，如果最坏的结果不能接受，就说明要有个 B 计划，考虑风险管理了
  2. 管理风险
    - 风险识别，识别可能的风险
    - 风险量化，对风险进行评估量化（基于损失和概率）
    - 应对计划，对风险制定应对策略
      ![](/assets/geektime/risk_types.png)
      - 回避风险——更改导致风险的方案，eg 用熟练的技术替代不熟练的技术
      - 转移风险——将损失转嫁出去，eg 购买云服务
      - 缓解风险——降低风险发生概率或减少可能造成的损失，eg 数据库定期备份
    - 风险监控，对风险进行监控预警
      - 对监控的内容量化
      - 设置阈值
      - 后续的报警和处理机制

## 项目文档

- 先写文档，就会抛开代码细节，去站在全局思考
- 文档写作，关键是通过文档把你的想法表达出来，至于用词、格式相对都是其次的
- 具体可行的文档写作方法：
  - 从模仿开始，参照一些成熟的模版来写
  - 从小文档开始
    - 别人给你讲一个问题的时候记录下来
    - 你给别人讲一个问题的时候记录下来
    - 解决一个技术难题时记录下来方案
  - 从粗到细，迭代更新
    - 脑图 -> PPT -> 收集反馈 -> 文档
  - 基本的画图技巧
    - 线框图
    - 流程图
    - 时序图
    - 各种格式截图

# 需求分析篇

## 需求分析

- 用户需求是由用户提出来的，期望满足自身一定需要的要求
- 产品需求就是在分析提炼用户真实需求后，提出的符合产品定位的解决方案
- 需求分析，就是对用户需求进行提炼分析，最终形成产品需求的过程
- 针对每个用户需求的需求分析过程，需要经过三个步骤：
  1. 挖掘真实需求
    - 大部分用户提的需求，都不见得是其真实的需求，需要透过现象看本质，去挖掘其背后真实的需求
    - 从**目标用户**、**使用场景** 和 **想要解决的问题** 三个角度入手
  2. 提出解决方案
  3. 筛选和验证方案

- 软件项目的用户需求

![](/assets/geektime/requirement_analysis.png)

- 收集需求
  - 潜在的方法：
    - 头脑风暴
    - 用户调研
    - 竞品分析
    - 快速原型
- 分析需求
  - 表层需求
  - 深层需求
  - 底层需求
- 需求评估
  - 以决定做还是不做，优先级如何，先做哪些再做哪些
  - 考虑因素：
    - 可行性
    - 成本
    - 商业风险和收益
    - 紧急性与重要性
- 需求设计
  - 可以用草图、原型设计工具、界面设计工具进行设计
  - 可以参考其他成熟的产品
- 验证需求
  - A/B 测试

## 原型设计

- 第一阶段确认界面布局和内容，第二阶段确认交互，第三阶段实现
- 可以将每次原型设计过程分成四个部分：分析、设计、实施和验证
  1. 分析
    - 需求分析
  2. 设计
    - 画产品的信息结构图，eg

    ![](/assets/geektime/geektime_info_structure_graph.png)

    - 画产品使用流程图，eg

    ![](/assets/geektime/geektime_user_flow_graph.png)
  3. 实施
    - 对每个界面画流程图
    - 要优先考虑满足产品需求，然后是让界面好看好用
  4. 验证
    - 一般在正式的项目中，针对原型设计，需要有相应的评审会议，让大家提出反馈，根据反馈再作出调整
- 原型设计工具的选择
  - 面向的平台：Web、桌面、手机
  - 保真度：中等保真度还是高保真度
  - 功能：是否满足你的要求
  - 成本：价钱是否可以接受

## 产品意识

- 程序员的价值
  1. 你的价值体现在你所做的产品上
  2. 你的价值体现在团队中的稀缺性
- 产品意识，本质就是一种思维方式，一种站在产品角度思考问题的方式
  - 商业意识
    - 所做的产品的商业价值
    - 商业意识的另一方面其实是成本——成本意识
  - 用户意识
    - 做产品时，你要能挖掘出用户的真实需求，让产品有好的用户体验，这需要你要有同理心，能站在用户的角度去思考和体验产品
    - 多一点用户意识，想到的问题将会多了很多维度，比如说：
      - 能让自己的负责的模块有更好的体验
      - 让自己的技术方案更好地满足用户需求，用户更满意
      - 让自己设计的接口、API 更好用，与同事愉快合作
  - 数据意识
    - 在产品设计、产品运营时，通过数据来发现问题、证实结果
- 如何培养产品意识
  - 解放思想，改变习惯，多实践
  - 技术思维会关注用什么技术，关注技术细节，关注功能 “如何” 实现；产品思维会关注用户体验，关注一个功能所创造的价值，会去思考为什么要或者不要一个功能，eg

  ![](/assets/geektime/product_mindset_eg.png)

  - 改变习惯是是指在日常使用产品、开发产品的时候，多站在产品的角度思考，去思考它的商业价值、用户体验、使用场景等等
  - 自己开发的功能模块完成后，可以把自己当成用户试试，如果觉得体验不好或者有更好的建议，都可以反馈给产品经理
  - 其实不用担心没有什么好的想法，可以从日常生活中，自己的需求、家人和朋友的需求中，去找到合适的产品需求

## 如何应对需求变更问题

- 两个常见的解决方案：
  - 增强需求变更流程，让需求变更规范起来
  - 快速迭代，缩短版本周期
- 像软件工程这样偏理论知识的学习，一定不要停留在解决方案上，要追本溯源，研究问题背后的原因，研究理论背后的来龙去脉
- 需求变更的原因：
  - 需求的确定性
    - 软件工程的需求是抽象的、模糊、不精确的，只有在开发有了雏形后，才会清楚真正的需求
  - 需求变更的成本
- 解决办法
  - 提升需求确定性，把需求分析做好，减少需求变更
  - 提高需求变更的成本，让客户或者产品经理不能太容易就变更需求
  - 降低响应需求变更的成本，可以方便快捷地响应需求变更

# 系统设计篇

## 架构设计

- 复杂的软件项目，通常有两个特点
  - 需求不确定
  - 技术复杂
- 技术的复杂性通常体现在四个方面：
  - 需求让技术变复杂
  - 人员会让技术变复杂
  - 技术本身也是复杂的
  - 要让软件稳定运行是复杂的
- 架构设计可以很好地解决技术复杂的问题：
  - 架构设计可以降低满足需求和需求变化的开发成本
  - 架构设计可以帮助组织人员一起高效协作
  - 架构设计可以帮助组织好各种技术
  - 架构设计可以保障服务稳定运行
- 架构设计的 **目标**，是用最小的人力成本来满足需求的开发和响应需求的变化，用最小的运行成本来保障软件的运行
- 架构设计的 **道**，就是组织人员和技术把系统和团队拆分，并安排好切分后的排列关系，让拆分后的部分能通过约定好的协议相互通信，共同实现最终的结果
- 如何做好架构设计
  1. 需求分析
    - 一个常用的分析方法就是分析用例，也就是了解主要用户角色和其使用的场景
  2. 选择相似的成熟的架构设计方案
  3. 自顶向下层层细化
    - 部署架构
    - 分层和分模块
      ![](/assets/geektime/geektime_arch_layer_graph.png)
    - API 设计、数据库设计、模块的设计
  4. 验证和优化架构设计方案

## 技术选型

- 技术选型看起来是个技术的选择，但其实是一个和项目情况密切相关的项目决策
- 项目决策中常见的坑：
  - 把听到的观点当事实
    - 在做决策之前，至少需要验证一下
  - 先入为主，有了结论再找证据
- 如何做好技术选型：
  - 问题定义
    - 为什么需要技术选型？技术选型的目标是什么？
    - 只有明确了技术选型的目标，才能有一个标准可以来评判该选择哪一个方案
  - 调研
    - 满足技术选型目标吗？
    - 满足范围、时间和成本的约束吗？
    - 是不是可行？
    - 有什么样的风险？风险是不是可控？
    - 优缺点是什么？
  - 验证
    - 可以通过一个小型的快速原型项目，用候选的技术方案快速做一个原型出来
  - 决策
    - 在调研和验证完成后，可以召集所有利益相关人一起，就选择的方案有一个调研结果评审的会议，让大家提出自己的意见，做出最终的决策
- 技术选型，也不要太过于纠结，要勇于决策，选定了就坚定的去执行
- Make It Work -> Make It Right -> Make It Fast

## 架构师

- 对于程序员来说，并不代表一定要有一个架构师的头衔，而是心中有大局观，有架构师的思维，从而能理解架构设计，能写出好的程序
- 对于架构师来说，要控制技术复杂性，有几种有效的方式：**抽象、分治、复用和迭代**
- 抽象思维
  - 在软件项目中，遇到类似的场景，就会考虑抽象出来，总结一个规则和方法
  - 在架构设计中，对需求进行抽象建模后，可以帮助我们隐藏很多无关紧要的细节
- 分治思维
  - 对复杂系统分而治之，分解成小的、简单的部分
- 复用思维
  - 通过对相同内容的抽象，让其能复用于不同的场景
- 迭代思维
  - 好的架构设计，通常不是一步到位，而是先满足好当前业务需求，然后随着业务的变化而逐步演进
- 一个好的架构师，不仅技术要好，还要懂业务；能从整体设计架构，也能在局部实现功能
- 要成为好的架构师，需要具备几个条件：
  - 有架构师思维：具备良好的抽象思维、分治思维、复用思维和迭代思维
  - 懂业务需求：能很好地理解业务需求，能针对业务特点设计好的架构
  - 有丰富的编码经验：像抽象、分治、复用这些能力，都需要大量的编码练习才能掌握，另外保持一定量的编码经验也有助于验证架构设计
  - 良好的沟通能力：架构师需要沟通确认需求，需要让团队理解架构设计
- 如何成为一个好的架构师：
  - 要成为一个优秀的程序员
  - 多模仿，多学习
  - 选择好行业和平台

## 技术债务

- 债务的 “利息”，就是在后面对软件做修改的时候，需要额外的时间成本
- 技术债务不一定都是坏的，比如
  - 快速原型开发模型
  - 提升短期的开发速度，让软件能尽快推出
- 对于项目中的债务，我们要清楚的知道有哪些技术债务，以及它给项目带来的收益和产生利息，这样才能帮助我们管理好这些债务
- 技术债务产生的原因
  - 轻率（reckless）还是谨慎（prudent）
  - 有意（deliberate）还是无意（inadvertent）

![](/assets/geektime/technical_debt.png)

- 识别技术债务
  - 开发速度降低
  - 单元测试代码覆盖率低
  - 代码规范检查的错误率高
  - Bug 数量越来越多

- 处理技术债务的策略
  - 重写：推翻重来，一次还清
  - 维持：修修补补，只还利息
  - 重构：新旧交替，分期付款

- 通常，如果你纠结于不知道该选择哪一种策略时，那就选择重构的策略，因为这是相对最稳妥有效的

- 实施策略
  - 对于重写的策略，要当作一个正式的项目来立项，按照项目流程推进
  - 对于重构的策略，要把整个重构任务拆分成一个个小任务，放到项目计划中，创建成 Ticket，放到任务跟踪系统中跟踪起来
  - 对于维持的策略，也要把需要做的修补工作作为任务，放到计划中，放到任务跟踪系统中

- 实施策略的关键就在于要落实成开发任务，作为项目计划的一部分

- 预防才是最好的方法
  - 预先投资：弄好架构设计、写好代码
  - 不走捷径：做好代码审查、保障单元测试代码覆盖率
  - 及时还债：把欠下的债务记下，放到任务跟踪系统中，安排在后续的开发任务中


# 开发编码篇

## 提高开发效率的方法

- 积极主动
  - **想想再回应**（在回应之前，给自己一点时间想想，站在积极的方面理性思考一下，控制本能反应）
  - **减少关注圈，扩大影响圈**
    - 要区分哪些事，是我可以影响和掌控的，这些事则是 “影响圈”
    - 不要总盯着自己无法改变的部分，你需要要多花时间精力在影响圈上
    - 接受不能改变的，改变能改变的，尽量扩大可改变项的范围
- 以终为始
  - **经常停下来想想目标**
    - 我的原始目标是什么？我正在做的事是我的目标吗？如果不是，那么马上回到自己的原始目标去
  - **制定原则**，比如：
    - 增加一个功能，就要写自动化测试，如果来不及写，就给自己写一条 Ticket
    - 先运行再优化 (Make it Work Make It Right Make It Fast)
    - 不复制粘贴代码 (Don’t repeat yourself)
    - 每个 Pull Request 要尽可能小
  - **公开自己的计划**
    - 有了计划指引和时间点的压力，会倒逼着自己时刻专注于目标是什么
- 要事第一
  - 重要紧急的事情马上处理
  - 重要不紧急的要事，要花最多的时间在上面
  - 紧急不重要的事凑一起集中做
  - 不重要不紧急的事情能不做就不做
